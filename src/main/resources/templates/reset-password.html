<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title th:text="#{resetPassword.titulo}">Restablecer Contraseña</title>
    <link rel="icon" href="/img/logo_RG_180_mono_new_nohalo.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" th:href="@{/css/customStyles.css}">
    <link rel="stylesheet" th:href="@{/css/form.css}">
    <link rel="stylesheet"
        th:href="@{https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css}">
</head>

<body>
<div class="container-xl min-vh-100 d-flex justify-content-center align-items-center">
    <form th:action="@{/reset-password}" method="post"
        class="bg-white p-4 rounded shadow w-50 custom-width needs-validation" novalidate>
        <h4 class="text-center text-primary mb-3" th:text="#{resetPassword.tituloCabecera}">Restablecer Contraseña</h4>
        <input type="hidden" name="token" th:value="${token}">

        <!-- Campo nueva contraseña -->
        <div class="mb-3">
            <label for="password" class="form-label fw-bold" th:text="#{resetPassword.password.label}">Nueva contraseña</label>
            <div class="input-group">
                <input type="password" name="password" id="password" class="form-control" th:placeholder="#{resetPassword.password.placeholder}" required>
                <button class="btn btn-outline-primary" type="button">
                    <i class="bi bi-eye-slash" id="togglePassword"></i>
                </button>
            </div>
            <div class="valid-feedback" th:text="#{resetPassword.campoValido}">Campo válido</div>
            <div class="invalid-feedback" th:text="#{resetPassword.completarPassword}">Debes ingresar una nueva contraseña</div>
        </div>

        <!-- Botón -->
        <div class="d-grid">
            <button type="submit" class="btn btn-primary" th:text="#{resetPassword.boton.cambiar}">Cambiar contraseña</button>
        </div>

        <!-- Enlace de volver -->
        <div class="mt-3 text-center">
            <a th:href="@{/}" class="text-decoration-none small text-secondary" th:text="#{resetPassword.volverLogin}">Volver al login</a>
        </div>
    </form>
</div>

<!-- JS de validación y toggle -->
<script th:src="@{/js/bs5-validation.js}"></script>
<script th:src="@{/js/bootstrap.bundle.js}"></script>
<script th:src="@{/js/scripts.js}"></script>
</body>

</html>
